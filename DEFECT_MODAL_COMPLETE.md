# โ ะะพะปะฝะพัะบัะฐะฝะฝัะน ะผะพะดะฐะป ะทะฐะณััะทะบะธ ะดะตัะตะบัะพะฒ - ะะะะะะจะะะ

## ๐ฏ ะงัะพ ะฑัะปะพ ัะตะฐะปะธะทะพะฒะฐะฝะพ

### 1. **ะะพะฑะฐะฒะปะตะฝะฐ ะบะฝะพะฟะบะฐ ะทะฐะณััะทะบะธ ะดะตัะตะบัะพะฒ**
- ะะฐัะฟะพะปะพะถะตะฝะธะต: ะะพะด ัะตะบัะธะตะน "๐ ะกะพะฑะปัะดะตะฝะธะต ะฟัะฐะฒะธะป"
- ะขะตะบัั: "๐ธ ะัะบัััั ะฟะพะปะฝะพัะบัะฐะฝะฝัะน ะทะฐะณััะทัะธะบ ะดะตัะตะบัะพะฒ"
- ะกัะธะปั: ะัะฐัะฝะฐั ะบะฝะพะฟะบะฐ (btn-danger) ะฝะฐ ะฟะพะปะฝัั ัะธัะธะฝั

### 2. **ะกะพะทะดะฐะฝ ะฟะพะปะฝะพัะบัะฐะฝะฝัะน ะผะพะดะฐะป**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ธ ะะฐะณััะทะบะฐ ัะพัะพะณัะฐัะธะน ะธ ะพะฟะธัะฐะฝะธะต ะดะตัะตะบัะพะฒ    [X]  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  [ะะะะะฏ ะงะะกะขะฌ]          โ         [ะะะะะะฏ ะงะะกะขะฌ]   โ
โ                         โ                          โ
โ ๐ธ ะคะพัะพะณัะฐัะธะธ ะดะตัะตะบัะพะฒ  โ ๐ ะะฟะธัะฐะฝะธะต ะดะตัะตะบัะฐ     โ
โ                         โ                          โ
โ โโโโโโโโโโโโโโโโโโโโโโโ โ โก ะะฐัะตะณะพัะธั ะดะตัะตะบัะฐ    โ
โ โ ๐ค ะะตัะตัะฐัะธัะต ััะดะฐ  โ โ โก ะะฐัะฟะพะปะพะถะตะฝะธะต         โ
โ โ    ะธะปะธ ะฒัะฑะตัะธัะต     โ โ โก ะะฟะธัะฐะฝะธะต             โ
โ โ  [ะัะฑัะฐัั ัะพัะพ]    โ โ โก ะกะตััะตะทะฝะพััั          โ
โ โโโโโโโโโโโโโโโโโโโโโโโ โ โก ะัะธะผะตัะฐะฝะธั           โ
โ                         โ                          โ
โ ะะฐะณััะถะตะฝะฝัะต (0)        โ [ะัะผะตะฝะธัั] [ะกะพััะฐะฝะธัั]  โ
โ ะคะพัะพะณัะฐัะธะธ ะทะดะตัั      โ                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### 3. **ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั ะทะฐะณััะทะบะธ**

#### ะกะฟะพัะพะฑั ะดะพะฑะฐะฒะปะตะฝะธั ัะพัะพ:
- โ **ะะตัะตัะฐัะบะธะฒะฐะฝะธะต** (Drag & Drop) - ะฟะตัะตัะฐัะธัั ะฝะตัะบะพะปัะบะพ ัะฐะนะปะพะฒ ััะฐะทั
- โ **ะัะฑะพั ะธะท ะฟะฐะฟะบะธ** - ััะฐะฝะดะฐััะฝัะน ะดะธะฐะปะพะณ ะฒัะฑะพัะฐ ัะฐะนะปะพะฒ

#### ะคะพัะผะฐัั ะฟะพะดะดะตัะถะบะธ:
- JPG, PNG, GIF, WEBP

#### ะะฐะทะผะตัั:
- ะะฐะบั. 5MB ะทะฐ ัะฐะนะป
- ะะต ะพะณัะฐะฝะธัะตะฝะพ ะบะพะปะธัะตััะฒะพ ัะฐะนะปะพะฒ

### 4. **ะะฟะธัะฐะฝะธะต ะดะตัะตะบัะฐ** (ะพะฑัะทะฐัะตะปัะฝัะต ะฟะพะปั)

| ะะพะปะต | ะขะธะฟ | ะะฝะฐัะตะฝะธั |
|------|------|----------|
| **ะะฐัะตะณะพัะธั** | Select | ะญะบัะฐะฝ, ะะพัะฟัั, ะะฝะพะฟะบะธ, ะะพััั, ะะฒัะบ, ะะฐัะฐัะตั, ะะธะดะบะพััั, ะััััััะฒัััะธะต ัะฐััะธ, ะััะณะพะต |
| **ะะฐัะฟะพะปะพะถะตะฝะธะต** | Text | ะกะฒะพะฑะพะดะฝัะน ัะตะบัั (ะฒะตััะฝะธะน ะปะตะฒัะน ัะณะพะป, ะฟะตัะตะดะฝัั ะฟะฐะฝะตะปั ะธ ั.ะด.) |
| **ะะฟะธัะฐะฝะธะต** | Textarea | ะะพะดัะพะฑะฝะพะต ะพะฟะธัะฐะฝะธะต ะดะตัะตะบัะฐ (ัะธะฟ, ัะฐะทะผะตั, ะฒะปะธัะฝะธะต ะฝะฐ ัะฐะฑะพัั) |
| **ะกะตััะตะทะฝะพััั** | Radio | ะะตะทะฝะฐัะธัะตะปัะฝัะน โ๏ธ / ะกัะตะดะฝะธะน ๐ถ / ะัะธัะธัะตัะบะธะน ๐ด |
| **ะัะธะผะตัะฐะฝะธั** | Textarea | ะะพะฟะพะปะฝะธัะตะปัะฝะฐั ะธะฝัะพัะผะฐัะธั (ะพะฟัะธะพะฝะฐะปัะฝะพ) |

### 5. **ะฃะฟัะฐะฒะปะตะฝะธะต ัะพัะพะณัะฐัะธัะผะธ**

- ะัะพัะผะพัั ะผะธะฝะธะฐัััั ะฒ ะปะตะฒะพะน ัะฐััะธ ะผะพะดะฐะปะฐ
- ะฃะดะฐะปะตะฝะธะต ัะตัะตะท ะบะฝะพะฟะบั ๐๏ธ
- ะกัะตััะธะบ ะทะฐะณััะถะตะฝะฝัั ัะพัะพ
- ะะพะปะฝัะน ัะฐะทะผะตั ะฟะพ ะบะปะธะบั ะฝะฐ ัะพัะพ

### 6. **ะกะพััะฐะฝะตะฝะธะต**

ะัะธ ะบะปะธะบะต "ะกะพััะฐะฝะธัั ะดะตัะตะบั":
1. โ ะะฐะปะธะดะฐัะธั ะฒัะตั ะฟะพะปะตะน
2. โ ะะฐะณััะทะบะฐ ัะพัะพ ะฝะฐ ัะตัะฒะตั (`/api/upload-defect-photo`)
3. โ ะกะพััะฐะฝะตะฝะธะต ะผะตัะฐะดะฐะฝะฝัั (ะบะฐัะตะณะพัะธั, ะปะพะบะฐัะธั, ะพะฟะธัะฐะฝะธะต, ัะตััะตะทะฝะพััั, ะฟัะธะผะตัะฐะฝะธั)
4. โ ะะพะฑะฐะฒะปะตะฝะธะต ะฒ ะพัะฝะพะฒะฝัั ัะพัะผั
5. โ ะะฑะฝะพะฒะปะตะฝะธะต ััะตััะธะบะฐ ะฒ ะพัะฝะพะฒะฝะพะน ัะพัะผะต
6. โ ะะฐะบัััะธะต ะผะพะดะฐะปะฐ ะธ ะฒะพะทะฒัะฐั ะบ ัะพัะผะต

## ๐ ะกัััะบัััะฐ ัะพััะฐะฝะตะฝะธั ัะพัะพ

```
/static/img/defects/
โโโ defect_12345_1234567890_abc123.jpg
โโโ defect_12345_1234567890_def456.jpg
โโโ defect_12345_1234567890_ghi789.jpg

ะคะพัะผะฐั ะธะผะตะฝะธ: defect_{rental_id}_{timestamp}_{uuid}.{ext}
```

## ๐๏ธ ะะฐะฝะฝัะต ะบะฐะถะดะพะน ัะพัะพะณัะฐัะธะธ

```json
{
  "path": "/static/img/defects/defect_12345_1234567890_uuid.jpg",
  "filename": "defect_12345_1234567890_uuid.jpg",
  "category": "body",
  "location": "ะฒะตััะฝะธะน ะปะตะฒัะน ัะณะพะป",
  "description": "ะะปัะฑะพะบะฐั ัะฐัะฐะฟะธะฝะฐ ะฝะฐ 5 ัะผ",
  "severity": "moderate",
  "notes": "ะัะธ ะดะพััะฐะฒะบะต",
  "timestamp": "12.01.2024, 14:30:25"
}
```

## ๐จ ะะฝัะตััะตะนั

### ะะฐ ะะ (Desktop)
- ะะฒััะบะพะปะพะฝะพัะฝัะน ะผะฐะบะตั
- ะะตะฒะฐั ัะฐััั: ะทะฐะณััะทะบะฐ ะธ ะผะธะฝะธะฐัััั
- ะัะฐะฒะฐั ัะฐััั: ะพะฟะธัะฐะฝะธะต ะดะตัะตะบัะฐ
- ะะพะปะฝะฐั ะฒััะพัะฐ ัะบัะฐะฝะฐ

### ะะฐ ะฟะปะฐะฝัะตัะต (Tablet)
- ะะดะฐะฟัะธะฒะฝัะน ะผะฐะบะตั
- ะะพะถะตั ะฑััั ะดะฒััะบะพะปะพะฝะพัะฝัะน ะธะปะธ ะพะดะฝะพะบะพะปะพะฝะพัะฝัะน

### ะะฐ ะผะพะฑะธะปัะฝะพะผ (Mobile)
- ะะดะฝะพะบะพะปะพะฝะพัะฝัะน ะผะฐะบะตั
- ะะพะปะฝะพัะบัะฐะฝะฝัะน ัะตะถะธะผ
- ะะฟัะธะผะธะทะธัะพะฒะฐะฝ ะดะปั ัะตะฝัะพัะฝะพะณะพ ะฒะฒะพะดะฐ

## ๐ ะะตะทะพะฟะฐัะฝะพััั

- โ ะขัะตะฑัะตััั ะฐะฒัะพัะธะทะฐัะธั ะฐะดะผะธะฝะธัััะฐัะพัะฐ
- โ ะัะพะฒะตัะบะฐ ัะธะฟะฐ ัะฐะนะปะฐ (ะฝะต ัะพะปัะบะพ ัะฐััะธัะตะฝะธะต)
- โ ะะฐะปะธะดะฐัะธั ัะฐะทะผะตัะฐ ัะฐะนะปะฐ
- โ ะะตัะตะธะผะตะฝะพะฒะฐะฝะธะต ัะฐะนะปะพะฒ (ะฟัะตะดะพัะฒัะฐัะตะฝะธะต ะบะพะฝัะปะธะบัะพะฒ)
- โ ะะทะพะปะธัะพะฒะฐะฝะฝะพะต ััะฐะฝะธะปะธัะต

## ๐ JavaScript ััะฝะบัะธะธ

| ะคัะฝะบัะธั | ะะฐะทะฝะฐัะตะฝะธะต |
|---------|-----------|
| `openDefectPhotoModal()` | ะัะบัััั ะผะพะดะฐะป |
| `handlePhotoDrop(e)` | ะะฑัะฐะฑะพัะบะฐ ะฟะตัะตัะฐัะบะธะฒะฐะฝะธั |
| `handlePhotoSelect(e)` | ะะฑัะฐะฑะพัะบะฐ ะฒัะฑะพัะฐ ัะฐะนะปะพะฒ |
| `processPhotoFiles(files)` | ะะฐะปะธะดะฐัะธั ะธ ะพะฑัะฐะฑะพัะบะฐ ัะฐะนะปะพะฒ |
| `updateFullscreenPhotoList()` | ะะฑะฝะพะฒะธัั ัะฟะธัะพะบ ัะพัะพ ะฒ ะผะพะดะฐะปะต |
| `removeFullscreenPhoto(index)` | ะฃะดะฐะปะธัั ัะพัะพ ะธะท ะผะพะดะฐะปะฐ |
| `saveDefectPhotosAndDescription()` | ะะฐะณััะทะธัั ัะพัะพ ะธ ัะพััะฐะฝะธัั ะดะฐะฝะฝัะต |
| `updateDefectPhotoPreview()` | ะะฑะฝะพะฒะธัั ะฟัะตะดะฟัะพัะผะพัั ะฒ ะพัะฝะพะฒะฝะพะน ัะพัะผะต |

## ๐ฌ ะะฐะบ ะธัะฟะพะปัะทะพะฒะฐัั

1. ะัะบัะพะนัะต ัะพัะผั "ะะพะฑะฐะฒะธัั ะพัะตะฝะบั ะบะปะธะตะฝัะฐ" ะฝะฐ ะฟะฐะฝะตะปะธ ะฐะดะผะธะฝะธัััะฐัะพัะฐ
2. ะะฐะฟะพะปะฝะธัะต ะพัะฝะพะฒะฝัั ะธะฝัะพัะผะฐัะธั (ะฟะพะปัะทะพะฒะฐัะตะปั, ะดะฐัะฐ, ะฒัะตะผั ะฒะพะทะฒัะฐัะฐ ะธ ั.ะด.)
3. ะะฐะถะผะธัะต ะบะฝะพะฟะบั **"๐ธ ะัะบัััั ะฟะพะปะฝะพัะบัะฐะฝะฝัะน ะทะฐะณััะทัะธะบ ะดะตัะตะบัะพะฒ"**
4. ะะฐะณััะทะธัะต ัะพัะพะณัะฐัะธะธ (ะฟะตัะตัะฐัะธัะต ะธะปะธ ะฒัะฑะตัะธัะต)
5. ะะฐะฟะพะปะฝะธัะต ะพะฟะธัะฐะฝะธะต ะดะตัะตะบัะฐ:
   - ะัะฑะตัะธัะต ะบะฐัะตะณะพัะธั
   - ะฃะบะฐะถะธัะต ัะฐัะฟะพะปะพะถะตะฝะธะต
   - ะะฟะธัะธัะต ะดะตัะตะบั
   - ะัะฑะตัะธัะต ัะตััะตะทะฝะพััั
   - ะะพะฑะฐะฒััะต ะฟัะธะผะตัะฐะฝะธั (ะพะฟัะธะพะฝะฐะปัะฝะพ)
6. ะะฐะถะผะธัะต **"๐พ ะกะพััะฐะฝะธัั ะดะตัะตะบั"**
7. ะะพะดะฐะป ะทะฐะบัะพะตััั, ัะพัะพ ะดะพะฑะฐะฒัััั ะฒ ะพัะฝะพะฒะฝัั ัะพัะผั
8. ะัะพะดะพะปะถะธัะต ะทะฐะฟะพะปะฝะตะฝะธะต ัะพัะผั ะธ ะฝะฐะถะผะธัะต **"ะกะพััะฐะฝะธัั ะพัะตะฝะบั ะบะปะธะตะฝัะฐ"**

## ๐ ะะฐะปะธะดะฐัะธั

ะกะธััะตะผะฐ ะฟัะพะฒะตััะตั:
- โ ะขะธะฟ ัะฐะนะปะฐ (ัะพะปัะบะพ ะธะทะพะฑัะฐะถะตะฝะธั)
- โ ะะฐะทะผะตั ัะฐะนะปะฐ (ะผะฐะบั. 5MB)
- โ ะะฑัะทะฐัะตะปัะฝัะต ะฟะพะปั:
  - ะะฐัะตะณะพัะธั ะดะตัะตะบัะฐ
  - ะะฐัะฟะพะปะพะถะตะฝะธะต ะดะตัะตะบัะฐ
  - ะะฟะธัะฐะฝะธะต ะดะตัะตะบัะฐ
- โ ะะฐะปะธัะธะต ัะพัั ะฑั ะพะดะฝะพะน ัะพัะพะณัะฐัะธะธ

## ๐ ะัะธะฑะบะธ ะธ ัะตัะตะฝะธั

| ะัะธะฑะบะฐ | ะะตัะตะฝะธะต |
|--------|---------|
| "ะะพะถะฐะปัะนััะฐ, ะดะพะฑะฐะฒััะต ัะพัั ะฑั ะพะดะฝั ัะพัะพะณัะฐัะธั" | ะะพะฑะฐะฒััะต ัะพัะพะณัะฐัะธั ะฟะตัะตะด ัะพััะฐะฝะตะฝะธะตะผ |
| "ะะพะถะฐะปัะนััะฐ, ะฒัะฑะตัะธัะต ะบะฐัะตะณะพัะธั ะดะตัะตะบัะฐ" | ะัะฑะตัะธัะต ะบะฐัะตะณะพัะธั ะธะท ะฒัะฟะฐะดะฐััะตะณะพ ัะฟะธัะบะฐ |
| "ะะพะถะฐะปัะนััะฐ, ัะบะฐะถะธัะต ัะฐัะฟะพะปะพะถะตะฝะธะต ะดะตัะตะบัะฐ" | ะะฒะตะดะธัะต, ะณะดะต ะฝะฐัะพะดะธััั ะดะตัะตะบั |
| "ะะพะถะฐะปัะนััะฐ, ะพะฟะธัะธัะต ะดะตัะตะบั" | ะะฐะฟะพะปะฝะธัะต ะฟะพะปะต "ะะฟะธัะฐะฝะธะต ะดะตัะตะบัะฐ" |
| "ะคะฐะนะป ะธะผะตะตั ะฝะตะฟะพะดะดะตัะถะธะฒะฐะตะผัะน ัะพัะผะฐั" | ะัะฟะพะปัะทัะนัะต JPG, PNG, GIF ะธะปะธ WEBP |
| "ะคะฐะนะป ัะปะธัะบะพะผ ะฑะพะปััะพะน (ะผะฐะบั. 5MB)" | ะฃะผะตะฝััะธัะต ัะฐะทะผะตั ัะฐะนะปะฐ |

## ๐ ะคะฐะนะปั ะธะทะผะตะฝะตะฝะฝัะต

### `templates/admin.html`

**ะะพะฑะฐะฒะปะตะฝะพ:**
1. โ ะะฝะพะฟะบะฐ ะทะฐะณััะทะบะธ ะดะตัะตะบัะพะฒ (ัััะพะบะฐ ~1145)
2. โ HTML ะฟะพะปะฝะพัะบัะฐะฝะฝะพะณะพ ะผะพะดะฐะปะฐ (~150 ัััะพะบ ะบะพะดะฐ)
3. โ JavaScript ััะฝะบัะธะธ (~400 ัััะพะบ ะบะพะดะฐ)
4. โ CSS ััะธะปะธ (~30 ัััะพะบ ะบะพะดะฐ)

**ะะทะผะตะฝะตะฝะพ:**
- ะคัะฝะบัะธั `clearDefectPhoto()` - ัะตะฟะตัั ะฒัะทัะฒะฐะตั `updateDefectPhotoPreview()`

**ะกัะฐััั:** โ 0 ะพัะธะฑะพะบ, ะณะพัะพะฒะพ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั

## ๐ ะขะตััะธัะพะฒะฐะฝะธะต

ะัะต ะบะพะผะฟะพะฝะตะฝัั ะฟัะพัะตััะธัะพะฒะฐะฝั:
- โ ะัะบัััะธะต/ะทะฐะบัััะธะต ะผะพะดะฐะปะฐ
- โ ะะตัะตัะฐัะบะธะฒะฐะฝะธะต ัะฐะนะปะพะฒ
- โ ะัะฑะพั ัะฐะนะปะพะฒ
- โ ะะฐะปะธะดะฐัะธั ัะฐะนะปะพะฒ
- โ ะะฐะณััะทะบะฐ ะฝะฐ ัะตัะฒะตั
- โ ะกะพััะฐะฝะตะฝะธะต ะผะตัะฐะดะฐะฝะฝัั
- โ ะะฝัะตะณัะฐัะธั ั ะพัะฝะพะฒะฝะพะน ัะพัะผะพะน
- โ ะะดะฐะฟัะธะฒะฝะพััั ะธะฝัะตััะตะนัะฐ

## ๐ ะะพะบัะผะตะฝัะฐัะธั

ะะพะดัะพะฑะฝะพะต ััะบะพะฒะพะดััะฒะพ: `DEFECT_MODAL_GUIDE.md`

---

**ะะฐัะฐ ัะพะทะดะฐะฝะธั:** 11 ะฝะพัะฑัั 2025  
**ะะตััะธั:** 1.0  
**ะกัะฐััั:** โ ะะะะะะจะะะ ะ ะะะขะะะ ะ ะะกะะะะฌะะะะะะะฎ
